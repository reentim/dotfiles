#!/usr/bin/env bash

main() {
  read -r pane_w pane_h win_w win_h <<< \
    $(tmux display -p '#{pane_width} #{pane_height} #{window_width} #{window_height}')

  # Cross-multiply instead of dividing: (pane_w / win_w) >= (pane_h / win_h)
  if (( pane_w * win_h >= pane_h * win_w )); then
    echo "split-window -h"
  else
    echo "split-window -v"
  fi
}

main
