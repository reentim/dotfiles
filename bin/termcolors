#!/usr/bin/env bash

main() {
  local columns=8
  [ "$1" = "-c" ] && columns="${2:-8}"

  for i in {0..255}; do
    printf "\e[38;5;${i}m%03d \e[48;5;${i}m        " $i
    printf "\e[0m  "
    [ ! $((($i + 1) % $columns)) -eq 0 ] || printf "\n"
  done

  printf "\n\n"

  local -a names=(
    "black"   "red"     "green"  "yellow"
    "blue"    "magenta" "cyan"   "white"
    "bright black" "bright red"     "bright green"  "bright yellow"
    "bright blue"  "bright magenta" "bright cyan"   "bright white"
  )

  printf "16 ANSI colors by name:\n\n"
  for i in {0..15}; do
    printf "\e[38;5;${i}m%2d: %-14s \e[48;5;${i}m        \e[0m\n" $i "${names[$i]}"
  done
}

main "$@"
